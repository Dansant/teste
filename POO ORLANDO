using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.IO;
namespace ConsoleApplication3
{
    class People
    {
        private string name;
        private double grade;

        public People()
        {
        }
        public People(string name, double grade)
        {
            this.name = name;
            this.grade = grade;
        }

        public string Name { get => name; set => name = name=value; }
        public double Grade { get => grade; set => grade = grade=value; }
        /*public void Aluno(People[] x)
        {
            int j = 0;
            int count=0;
            People proc=new People();
            proc.name="Daniel";
            StreamReader reader = new StreamReader(@"C:\Users\danie\OneDrive\Área de Trabalho\Alunos.txt");
            string text = File.ReadAllText(@"C:\Users\danie\OneDrive\Área de Trabalho\Alunos.txt");
            string line;
            while ((line = reader.ReadLine()) != null)
            {
                count++;
            }
            People[] z = new People[count];
            while (!reader.EndOfStream)
            {
                line = reader.ReadLine();
                string[] dados = line.Split(';');
                z[j] = new People(dados[0], double.Parse(dados[1]));
                if (dados[0] == "Daniel")
                {
                    Console.WriteLine("Ta funfando");
                }
            }
            reader.Close();
        }*/
        public void Gravar(People[]x)
        {
            string namefile = "Alunos" + ".txt";
            StreamWriter gravando = new StreamWriter(namefile,true);
            for(int i=0; i < x.Length; i++)
            {
                gravando.WriteLine(x[i].name + ";" + x[i].grade);
            }
            Console.WriteLine("Gravado com sucesso.");
            gravando.Close();
        }
        public void Mostrar()
        {
            string text = File.ReadAllText("Alunos.txt");
            System.Console.WriteLine(text);
        }
    }

    class Program
    {
        static void Main(string[] args)
        {
            string aluno;
            double nota;
            int number;
            Console.WriteLine("Informe a quantidade de alunos:");
            number = int.Parse(Console.ReadLine());
            People[] x = new People[number];
            People p = new People();
            for (int i = 0; i < number; i++)
            {
                Console.WriteLine("Insira um nome:");
                aluno = Console.ReadLine();
                Console.WriteLine("Insira a nota:");
                nota = double.Parse(Console.ReadLine());
                x[i] = new People(aluno, nota);
            }
           // x[0].Aluno(x);
            x[0].Gravar(x);
            x[0].Mostrar();
            Console.WriteLine("Aperte qualquer tecla para sair.");
            Console.ReadKey();
        }
    }
}
//p.Name = aluno;
//p.Grade = nota;
